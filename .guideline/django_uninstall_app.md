# Uninstall App

[REF](https://stackoverflow.com/questions/35745220/how-to-remove-an-app-from-a-django-projects-and-all-its-tables/64243834#64243834)
[REF2](https://patrick.cloke.us/posts/2020/01/23/cleanly-removing-a-django-app-with-models/)

## Clean Database and migration

Step 1: Remove all content from the models.py file (but leave the file itself).
Step 2: makemigrations
Step 3: migrate
Step 4: Delete all the file migrations in folder your_app/migrations
Step 5: Remove migrations in the table django_migrations

```bash
python manage.py migrate --fake tutorials zero
```

Step 6: check the result

```bash
python manage.py showmigrations
```

## Remove references

Remove any references to the app outside of itself (e.g. grep for the model names and other imports).
Remove the any other files: e.g. forms.py, urls.py, views.py, etc. Be sure to leave the migrations alone.
Remove all content from the models.py file (but leave the file itself).
Deploy to ensure nothing is attempting to access the modelâ€™s tables.
Run python manage.py makemigrations to generate the migrations that will delete the database tables.
Deploy & run the migrations.
Delete the app completely.
Remove references to the app in INSTALLED_APPS.
Deploy so that nothing is referencing the app.

## Clean Database

```bash
manage.py makemigrations your_django_project --empty
```

```Python
# Generated by Django 3.1.1 on 2020-10-07 11:40

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('tutorials', '0002_author_book'),
    ]

    operations = [
        migrations.RunSQL('''
        drop table if exists Tutorial;
        drop table if exists Book;
        drop table if exists Author;

        delete from auth_permission where content_type_id in (select id from django_content_type where app_label = '{app_label}');
        delete from django_admin_log where content_type_id in (select id from django_content_type where app_label = '{app_label}');
        delete from django_content_type where app_label = '{app_label}';
        delete from django_migrations where app='{app_label}';
        '''.format(app_label='tutorials'))
    ]

```

## Run with this way

[REF](https://patrick.cloke.us/posts/2020/01/23/cleanly-removing-a-django-app-with-models/)
